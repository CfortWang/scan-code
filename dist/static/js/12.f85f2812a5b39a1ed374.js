webpackJsonp([12],{KzLI:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("4kSj"),i=e.n(s),n={name:"payDeposit",components:{},data:function(){return{payID:"",payAmount:"",payPackageName:"",payShopName:"",payRule:"",payWay:"",payReturnUrl:"",payType:"",alipayReturn:"",timeLeft:""}},created:function(){i()("body").css({"background-color":"#F4F4F4","font-family":"PingFangSC-Regular","font-size":"16px"});var a=this.$route.params;this.payID=a.payID,this.payAmount=a.payAmount,this.payPackageName=a.payPackageName,this.payShopName=a.payShopName,this.payRule=a.payRule,this.payWay="wechat"},methods:{goBack:function(){this.$router.push({name:"SpellBean"})},changeWePay:function(){i()(".wechat-pay .pay-choose").show(),i()(".alipay .pay-choose").hide(),this.payWay="wechat"},changeAliPay:function(){i()(".wechat-pay .pay-choose").hide(),i()(".alipay .pay-choose").show(),this.payWay="alipay"},goToPay:function(){var a=this;this.payReturnUrl="http://dev-m.beanpop.cn/share/paySuccess?groupon_record_id="+this.payID,this.payType="groupon","wechat"==this.payWay&&axios({method:"POST",url:"http://dev-new-api.beanpop.cn/pay/weixinPay",params:{type:this.payType,id:this.payID,return_url:this.payReturnUrl},withCredentials:!0,headers:{lang:"zh",token:"",os:"web",version:"1.0.0",time:"","Content-Type":"application/x-www-form-urlencoded",referer:this.payReturnUrl}}).then(function(t){console.log(t.data.data),200==t.status?(i()("body").append(t.data.data),i()("form").attr("target","_blank"),console.log(a.payReturnUrl)):console.log("error~")}).catch(function(a){console.log(a)}),"alipay"==this.payWay&&axios({method:"POST",url:"http://dev-new-api.beanpop.cn/pay/alipay",params:{type:this.payType,id:this.payID,return_url:this.payReturnUrl},withCredentials:!0,headers:{lang:"zh",token:"",os:"web",version:"1.0.0",time:"","Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){200==t.status?(i()("body").append(t.data),i()("form").attr("target","_blank"),console.log(a.payReturnUrl)):console.log("error~")}).catch(function(a){console.log(a)})}}},o={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("header",{staticClass:"header"},[e("div",{staticClass:"goback-pindou"},[e("img",{attrs:{src:"/static/img/share/goback.png"},on:{click:a.goBack}})]),a._v(" "),e("div",{staticClass:"pay-header-title"},[a._v("拼豆豆订金支付")])]),a._v(" "),e("div",{staticClass:"order-amount-box"},[e("div",{staticClass:"order-amount"},[e("span",[a._v("￥")]),a._v(" "),e("span",[a._v(a._s(a.payAmount))])]),a._v(" "),e("div",{staticClass:"shop-package"},[a._v(a._s(a.payShopName)+" - "+a._s(a.payPackageName))])]),a._v(" "),e("div",{staticClass:"amount-desc-box"},[e("div",{staticClass:"amount-desc-title"},[a._v("拼豆豆订金说明:")]),a._v(" "),e("div",{domProps:{innerHTML:a._s(a.payRule)}}),a._v(" "),e("div",{staticClass:"amount-remark"},[a._v("※最终解释权归商家所有，与深圳喜豆文化发展无关")])]),a._v(" "),e("div",{staticClass:"wechat-pay justified",on:{click:a.changeWePay}},[a._m(0),a._v(" "),a._m(1)]),a._v(" "),e("div",{staticClass:"alipay justified",on:{click:a.changeAliPay}},[a._m(2),a._v(" "),a._m(3)]),a._v(" "),a._m(4),a._v(" "),e("div",{staticClass:"sure-pay-btn",on:{click:a.goToPay}},[e("span",[a._v("确认支付")])])])},staticRenderFns:[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"wechat-icon"},[t("img",{attrs:{src:"/static/img/share/wechat-pay.png"}}),this._v(" "),t("span",[this._v("微信支付")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"pay-choose"},[t("img",{attrs:{src:"/static/img/share/pay-choose.png"}})])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"alipay-icon"},[t("img",{attrs:{src:"/static/img/share/alipay.png"}}),this._v(" "),t("span",[this._v("支付宝支付")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"pay-choose"},[t("img",{attrs:{src:"/static/img/share/pay-choose.png"}})])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"tip-container"},[t("div",{staticClass:"tip-error"},[t("img",{attrs:{src:"/static/img/share/error.png"}}),this._v(" "),t("span",{staticClass:"tip-error-msg"},[this._v("请选择支付方式")])])])}]};var r=e("VU/8")(n,o,!1,function(a){e("Zd8A")},"data-v-7afee345",null);t.default=r.exports},Zd8A:function(a,t){}});