webpackJsonp([7],{D62z:function(e,t){e.exports={en:{title:"Recommender regist",recommend1:"your recommender?",recommend2:"Do you register",button:"Confirm",message:{insertPW:"Please insert password.",wrongCode:"Recommender Code is wrong.",areadyRegist:"You already recommended someone.",wrongPhone:"Wrong phone number.",wrongPW:"Wrong password."}},ko:{title:"추천인 등록",recommend1:"을",recommend2:"추천인으로 등록하시겠습니까?",button:"확인",message:{insertPW:"비밀번호를 입력해주세요.",wrongCode:"잘못된 추천인 코드입니다.",areadyRegist:"이미 다른 아이디를 추천했습니다.",wrongPhone:"잘못된 핸드폰번호 입니다.",wrongPW:"비밀번호가 잘못되었습니다."}},zh:{title:"登记推荐人",recommend1:"您要登记",recommend2:"为推荐人吗？",button:"确定",message:{insertPW:"请输入密码",wrongCode:"错误的推荐人代码",areadyRegist:"已经推荐别的ID",wrongPhone:"电话号码不正确",wrongPW:"密码不正确"}},ja:{title:"추천인 등록",recommend1:"을",recommend2:"추천인으로 등록하시겠습니까?",button:"추천인 등록",message:{insertPW:"비밀번호를 입력해주세요.",wrongCode:"잘못된 추천인 코드입니다.",areadyRegist:"이미 다른 아이디를 추천했습니다.",wrongPhone:"잘못된 핸드폰번호 입니다.",wrongPW:"비밀번호가 잘못되었습니다."}}}},NqK8:function(e,t){},fCJE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("K/Lq"),a=n.n(o),s=n("D62z"),r={name:"confirmRecommend",i18n:new VueI18n({locale:"zh",messages:s}),components:{},data:function(){return{countryCode:"",countrySeq:"",phoneNumber:"",password:"",code:"",nickname:"",currentLanguage:"zh"}},created:function(){var e=this,t=this.$route.params;a.a.get("qr_language")?(this.$i18n.locale=a.a.get("qr_language"),this.currentLanguage=a.a.get("qr_language")):(this.$i18n.locale="zh",this.currentLanguage="zh","Asia/Seoul"===Intl.DateTimeFormat().resolvedOptions().timeZone?(this.$i18n.locale="ko",this.currentLanguage="ko"):"Asia/Shanghai"===Intl.DateTimeFormat().resolvedOptions().timeZone?(this.$i18n.locale="zh",this.currentLanguage="zh"):(this.$i18n.locale="en",this.currentLanguage="en")),this.phoneNumber=t.phoneNumber,this.nickname=t.nickname,this.code=t.code,axios({url:"https://bpapi.beanpop.cn/api/countries"}).then(function(n){for(var o=n.data.data,a=0;a<o.total_cnt;a++)o.data[a].seq===t.countryCode&&(e.countrySeq=o.data[a].seq,e.countryCode="+"+o.data[a].calling_code)}).catch(function(e){console.log(e)})},methods:{doRegister:function(){var e=this;if(this.password=this.password.replace(/ /gi,""),""===this.password)return alert(this.$i18n.t("message.insertPW")),!1;axios({method:"POST",url:"https://bpapi.beanpop.cn/api/login/phone-num",params:{country:this.countrySeq,phone_num:this.phoneNumber,password:this.password}}).then(function(t){var n=t.data.data.token.access_token;axios({method:"PUT",url:"https://bpapi.beanpop.cn/api/user/recommend-user",headers:{Accept:"application/json",Authorization:"Bearer "+n},params:{recommender_code:e.code}}).then(function(t){e.$router.push({name:"AppDown",params:{code:"recommend"}})}).catch(function(t){console.log(t);var n=t.response.data;return console.log(n),404===n.status?(alert(e.$i18n.t("message.wrongCode")),!1):409===n.status?(alert(e.$i18n.t("message.areadyRegist")),!1):(console.log(t),!1)})}).catch(function(t){console.log(t);var n=t.response.status,o=t.response.data;return 404===n?(alert(e.$i18n.t("message.wrongPhone")),!1):400===n&&100===o.status?(alert(e.$i18n.t("message.wrongPW")),!1):(console.log(t),!1)})}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",[n("div",{staticClass:"header-title-wrapper fs-14"},[e._v("\n      "+e._s(e.$t("title"))+"\n    ")])]),e._v(" "),n("div",{staticClass:"contents-wrapper"},[e._m(0),e._v(" "),n("div",{staticClass:"bottom-contents-wrapper"},[n("div",{staticClass:"bottom-text-wrapper"},["en"===e.currentLanguage?n("span",[e._v("\n          "+e._s(e.$t("recommend2"))+" "),n("span",{staticClass:"text-bold"},[e._v(e._s(e.code)+"("+e._s(e.nickname)+")")]),e._v(" "+e._s(e.$t("recommend1"))+"\n        ")]):"zh"===e.currentLanguage?n("span",[e._v("\n          "+e._s(e.$t("recommend1"))+" "),n("span",{staticClass:"text-bold"},[e._v(e._s(e.code)+"("+e._s(e.nickname)+")")]),e._v(" "+e._s(e.$t("recommend2"))+"\n        ")]):n("span",[n("span",{staticClass:"text-bold"},[e._v(e._s(e.code)+"("+e._s(e.nickname)+")")]),e._v(e._s(e.$t("recommend1"))+" "+e._s(e.$t("recommend2"))+"\n        ")])]),e._v(" "),n("div",{staticClass:"bottom-input-wrapper"},[n("div",{staticClass:"input-row float-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.countryCode,expression:"countryCode"}],staticClass:"p-l-10 w-30 float-l",attrs:{type:"text",disabled:""},domProps:{value:e.countryCode},on:{input:function(t){t.target.composing||(e.countryCode=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],staticClass:"p-l-10 w-65 float-r",attrs:{type:"text",disabled:""},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"w-100 p-l-10",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"bottom-button-wrapper"},[n("button",{staticClass:"btn btn-green fs-12",attrs:{type:"button"},on:{click:e.doRegister}},[e._v(e._s(e.$t("button")))])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-image-wrapper"},[t("img",{attrs:{src:"/static/img/recommend/game_img.png"}})])}]};var c=n("VU/8")(r,i,!1,function(e){n("NqK8")},"data-v-9081568e",null);t.default=c.exports}});