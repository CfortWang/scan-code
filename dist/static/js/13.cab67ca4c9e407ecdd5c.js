webpackJsonp([13],{GepR:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=t("K/Lq"),i=t.n(e),o=t("4kSj"),n=t.n(o),c=t("8wSn"),p={name:"shopDetails",i18n:new VueI18n({locale:"shopDetails",shopID:"",messages:c}),components:{},data:function(){return{shopName:"",shopOpenTime:"",shopCloseTime:"",shopAddress:"",addressDetail:"",shopPhoneNum:"",ruleTitle:"",rule:[],shopID:"",groupID:""}},created:function(){var s=this;n()("body").css({"background-color":"#F4F4F4","font-family":"PingFangSC-Regular","font-size":"16px"});var a=this.$route.params;a.shopID?this.shopID=a.shopID:this.shopID=i.a.get("shop_id"),axios({method:"GET",url:"http://dev-new-api.beanpop.cn/event/shop/"+this.shopID}).then(function(a){var t=a.data.data,e=s;i.a.set("shop_id",s.shopID,1),s.$i18n.shopID=i.a.get("shop_id"),console.log(t),s.shopName=t.name,s.shopOpenTime=t.openTime,s.shopCloseTime=t.closeTime,s.shopAddress=t.addressDetail,s.addressDetail=t.nearAddress,s.shopPhoneNum=t.phoneNum,s.ruleTitle=t.rule.title;for(var o=t.rule.content.split("<br>"),c=0;c<o.length;c++)n()(".rule-detail").append('<div class="rules"></div>'),n()(".rule-detail .rules:eq("+c+")").text(o[c]);var p=t.GroupProduct;console.log(p);for(var d=0;d<p.length;d++){n()(".package-data-box").append('<div class="package-data"><div class="package-img" data-id=""><img src=""/></div><div class="package-data-detail"><div class="package-name"></div><div class="package-price"><span class="package-new-price"></span><span class="package-old-price"><del></del></span></div><div class="team-scale"><span></span><div class="go-pindou">去拼豆</div></div></div></div>');var l="￥"+p[d].discountedPrice,r=p[d].groupSize+"人成团",h=p[d].image,v=p[d].price,u=p[d].title,g=p[d].id;n()(".package-data-box .package-data:eq("+d+") .package-img").attr("data-id",g),n()(".package-data-box .package-data:eq("+d+") img").attr("src",h),n()(".package-data-box .package-data:eq("+d+") .package-name").text(u),n()(".package-data-box .package-data:eq("+d+") .package-new-price").text(l),n()(".package-data-box .package-data:eq("+d+") .package-old-price del").text(v),n()(".package-data-box .package-data:eq("+d+") .team-scale span").text(r)}for(var m=t.ShopEvent,_=0;_<m.length;_++){n()(".shop-coupon-box").append('<div class="shop-coupon"><div class="coupon-img"><img/></div><div class="shop-coupon-detail justified"><div class="coupon-desc"><div class="coupon-name"></div><div class="store-name"></div><div class="term"><span class="start-date"></span><span class="end-date"></span></div></div><div class="use-shop-coupon-btn">使用</div></div></div>');var k=m[_].startDate.replace(/-/,"/")+"至",C=m[_].endDate.replace(/-/,"/"),x=m[_].image,f=m[_].title;n()(".shop-coupon-box .shop-coupon:eq("+_+") img").attr("src",x),n()(".shop-coupon-box .shop-coupon:eq("+_+") .coupon-name").text(f),n()(".shop-coupon-box .shop-coupon:eq("+_+") .store-name").text(s.shopName),n()(".shop-coupon-box .shop-coupon:eq("+_+") .start-date").text(k),n()(".shop-coupon-box .shop-coupon:eq("+_+") .end-date").text(C)}n()(".go-pindou, .use-shop-coupon-btn").click(function(){var s=n()(window).height();n()(".mask1, .mask2").height(s+100),n()(".download-wrapper, .mask2").show()}),n()(".mask2").click(function(){n()(".download-wrapper, .mask2").hide()}),n()(".package-data .package-img").click(function(){e.groupID=n()(this).attr("data-id"),e.$router.push({name:"PindouDetails",params:{groupID:e.groupID}})})}).catch(function(s){console.log(s)})},methods:{changeTabMarket:function(){n()(".shop-coupon-box").hide(),n()(".package-data-box").show(),n()(".shop-kind-left .shop-text").addClass("kind-active"),n()(".shop-kind-right .shop-text").removeClass("kind-active")},changeTabShop:function(){n()(".shop-coupon-box").show(),n()(".package-data-box").hide(),n()(".shop-kind-left .shop-text").removeClass("kind-active"),n()(".shop-kind-right .shop-text").addClass("kind-active")},showRule:function(){"none"==n()(".rule-detail").css("display")?(n()(".rule-detail").show(),n()(".pindou-rule").css("margin-bottom","0px"),n()(".open-rule img").attr("src","/static/img/share/opened.png")):(n()(".rule-detail").hide(),n()(".pindou-rule").css("margin-bottom","10px"),n()(".open-rule img").attr("src","/static/img/share/closed.png"))},callShop:function(){var s="tel:"+this.shopPhoneNum;window.location.href=s}}},d={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[s._m(0),s._v(" "),t("div",{staticClass:"fixed-right-btn"},[s._v("打开App")]),s._v(" "),t("div",{staticClass:"mask2"}),s._v(" "),s._m(1),s._v(" "),t("div",{staticClass:"shop-name-box"},[t("div",{staticClass:"shop-name"},[s._v(s._s(s.shopName))]),s._v(" "),t("div",{staticClass:"operate-time"},[t("img",{attrs:{src:"/static/img/share/operate_time.png"}}),s._v(" "),t("span",[s._v(s._s(s.shopOpenTime)+"-"+s._s(s.shopCloseTime)+"（法定工作日）")])])]),s._v(" "),t("div",{staticClass:"shop-info"},[t("div",{staticClass:"location-info justified"},[t("div",{staticClass:"location"},[s._m(2),s._v(" "),t("div",{staticClass:"address"},[t("span",[s._v(s._s(s.shopAddress))]),s._v(" "),t("p",[s._v(s._s(s.addressDetail))])])]),s._v(" "),t("div",{staticClass:"contact-box",on:{click:s.callShop}},[t("img",{attrs:{src:"/static/img/share/contact.png"}})])])]),s._v(" "),t("div",{staticClass:"shop-kind clear-fix"},[t("div",{staticClass:"shop-kind-left",on:{click:s.changeTabMarket}},[t("span",{staticClass:"shop-text kind-active"},[s._v("拼豆豆")])]),s._v(" "),t("div",{staticClass:"shop-kind-right",on:{click:s.changeTabShop}},[t("span",{staticClass:"shop-text"},[s._v("商家")])])]),s._v(" "),t("div",{staticClass:"pindou-rule",on:{click:s.showRule}},[t("img",{attrs:{src:"/static/img/share/pin-icon.png"}}),s._v(" "),t("span",[s._v(s._s(s.ruleTitle))]),s._v(" "),s._m(3)]),s._v(" "),t("div",{staticClass:"rule-detail"}),s._v(" "),t("div",{staticClass:"package-data-box"}),s._v(" "),t("div",{staticClass:"shop-coupon-box"}),s._v(" "),s._m(4)])},staticRenderFns:[function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"swiper-container",attrs:{id:"top-swiper"}},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide swiper-div"},[a("img",{staticClass:"swiper-img-index",attrs:{src:"/static/img/share/pindou.png"}})]),this._v(" "),a("div",{staticClass:"swiper-slide swiper-div"},[a("img",{staticClass:"swiper-img-index",attrs:{src:"/static/img/share/pindou.png"}})]),this._v(" "),a("div",{staticClass:"swiper-slide swiper-div"},[a("img",{staticClass:"swiper-img-index",attrs:{src:"/static/img/share/pindou.png"}})])]),this._v(" "),a("div",{staticClass:"swiper-pagination"})])},function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"download-wrapper"},[a("div",{staticClass:"download-title"},[this._v("下载喜豆APP")]),this._v(" "),a("div",{staticClass:"download-text"},[this._v("获得更多奖励")]),this._v(" "),a("div",{staticClass:"download-btn"},[this._v("去下载")])])},function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"location-icon"},[a("img",{attrs:{src:"/static/img/share/position.png"}})])},function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"open-rule"},[a("img",{attrs:{src:"/static/img/share/closed.png"}})])},function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"no-mare-data"},[a("div",{staticClass:"nodata-line"}),this._v(" "),a("div",{staticClass:"nodata-text"},[a("span",[this._v("已无更多数据")])]),this._v(" "),a("div",{staticClass:"nodata-line"})])}]};var l=t("VU/8")(p,d,!1,function(s){t("GsCe")},"data-v-657efeb6",null);a.default=l.exports},GsCe:function(s,a){}});